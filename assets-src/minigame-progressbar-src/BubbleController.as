package {    import flash.display.MovieClip;    import flash.display.Sprite;    import flash.events.MouseEvent;    import flash.events.Event;    public class BubbleController extends Sprite {        private var bubbleMC:MovieClip;        private var bubbleIndex:int;        private var bubbleIsPopped:Boolean = false;        public function BubbleController(bubble:MovieClip, index:int) {            bubbleMC = bubble;            bubbleIndex = index;            bubbleMC.stop();            this.addChild(bubbleMC);            bubbleMC.addEventListener(MouseEvent.CLICK, onMouseClick);        }        private function onMouseClick(event:MouseEvent):void {            if (!bubbleIsPopped) {								// Jump to popped state                bubbleMC.gotoAndStop(2);				                // Play pop sound;                // Dispatch event                var bEvent:BubbleEvent = new BubbleEvent(BubbleEvent.BUBBLE, bubbleIndex);                this.dispatchEvent(bEvent);                bubbleIsPopped = true;            }        }    }}